<!DOCTYPE html>
<html lang="en">
    <head>
  <!-- 元数据 -->
  <meta charset="utf-8">
  <link rel="icon" href="">
  <title>Node.js | 琼喵酱·部落</title>
  <meta name="author" content="zengqm" />
  <meta http-equiv="Cache-Control" content="no-transform" />
  <meta http-equiv="Cache-Control" content="no-siteapp" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="robots" content="index,follow" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <meta name="format-detection" content="telphone=no, email=no" />
  
    <meta name="keywords" content="node" />
  
  <meta name="description" content="nodejs nodejs不是语言不是框架是js的一个运行时环境可以解析执行js代码 运行的时候指的是指令加载到内存并由CPU执行的时候  浏览器中的jsEcmaScript(基本语法、if、var、function、Object、Array)BOMDOM node.js中的jsEcmaScript语法 服务端不操作页面（没有BOM、DOM）  核心模块 第三方模块 用户自定义模块   nodej">
<meta property="og:type" content="article">
<meta property="og:title" content="Node.js">
<meta property="og:url" content="http://example.com/2021/09/20/nodejs/index.html">
<meta property="og:site_name" content="琼喵酱·部落">
<meta property="og:description" content="nodejs nodejs不是语言不是框架是js的一个运行时环境可以解析执行js代码 运行的时候指的是指令加载到内存并由CPU执行的时候  浏览器中的jsEcmaScript(基本语法、if、var、function、Object、Array)BOMDOM node.js中的jsEcmaScript语法 服务端不操作页面（没有BOM、DOM）  核心模块 第三方模块 用户自定义模块   nodej">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/null">
<meta property="article:published_time" content="2021-09-20T14:34:19.363Z">
<meta property="article:modified_time" content="2021-09-21T13:48:25.709Z">
<meta property="article:author" content="zengqm">
<meta property="article:tag" content="node">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/null">
<meta name="twitter:site" content="@null">
  
  <!-- 站点验证相关 -->
  
    
    
    
  
  <!-- 样式表文件 -->
  <link rel="stylesheet" id="kratos-css" href="/css/kratosr.min.css" type="text/css" media="all">
  
    <link rel="stylesheet" id="highlight-css" href="/css/highlight/night-eighties.min.css" type="text/css" media="all">
  
  
  <link rel="stylesheet" id="fontawe-css" href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" type="text/css" media="all">
  <link rel="stylesheet" id="nprogress-css" href="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.css" type="text/css" media="all">
  
  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css">
  
  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css">
  
  
    <link rel="stylesheet" id="darkmode-css" href="/css/kr-dark.min.css" type="text/css" media="all">
  
  <!-- 不得不预先加载的一些JS文件 -->
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
  
    <script src="https://cdn.jsdelivr.net/npm/qrcode_js@1.0.0/qrcode.min.js"></script>
  
  
  <style>
    
      .kratos-cover.kratos-cover-2 {
        background-image: url('/images/banner.webp');
      }
    
    
      @media(min-width:768px) {
        body.custom-background {
          background-image: url('/images/bg.webp');
        }
      }
    
  </style>
  
<meta name="generator" content="Hexo 5.4.0"></head>


    <body class="custom-background">
        <div id="kratos-wrapper">
    <div id="kratos-page">
        <div id="kratos-header">
            <header id="kratos-desktop-topnav" class="kratos-topnav">
                <div class="container">
                    <div class="nav-header">
                        <nav id="kratos-menu-wrap">
                            <ul id="kratos-primary-menu" class="sf-menu">
                                
                                    
                                        <li><a href="/"><i class="fa fa-home"></i>首页</a></li>
                                    
                                
                                    
                                        <li><a href="/archives/"><i class="fa fa-file"></i>档案馆</a></li>
                                    
                                
                            </ul>
                        </nav>
                    </div>
                </div>
            </header>
            <header id="kratos-mobile-topnav" class="kratos-topnav">
                <div class="container">
                    <div class="color-logo"><a href="/">琼喵酱·部落</a></div>
                    <div class="nav-toggle">
                        <a class="kratos-nav-toggle js-kratos-nav-toggle">
                            <i></i>
                        </a>
                    </div>
                </div>
            </header>
        </div>
        <div class="kratos-start kratos-hero-2">
            <!-- <div class="kratos-overlay"></div> -->
            <div class="kratos-cover kratos-cover-2 text-center">
                <div class="desc desc2 animate-box">
                    <a href="/">
                        <h2>琼喵酱·部落</h2> <br />
                        <span></span>
                    </a>
                </div>
            </div>
        </div>

        <div id="kratos-blog-post">
            <div class="container">
                <div id="main" class="row">
                    

        

            <section class="col-md-8">

        

            <article>
    <div class="kratos-hentry kratos-post-inner clearfix">
        <header class="kratos-entry-header">
            
                <h1 class="kratos-entry-title text-center">Node.js</h1>
            
            
            <ul class="kratos-post-meta text-center">
                <li><i class="fa fa-calendar"></i> 2021-09-20</li>
                <li><i class="fa fa-user"></i> 作者 zengqm</li>
                <li>
                    <i class="fa fa-edit"></i> 
                    
                    
                        ~14.94K
                    
                    字
                </li>
                
            </ul>
        </header>
        <div class="kratos-post-content">
            <div id="expire-alert" class="alert alert-warning hidden" role="alert">
                本文最后编辑于 <time datetime="1632232105709"></time> 前，其中的内容可能需要更新。
            </div>
            
                <div class="kratos-post-inner-toc">
                    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#nodejs"><span class="toc-number">1.</span> <span class="toc-text">nodejs</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%AD%E7%9A%84js"><span class="toc-number">1.0.1.</span> <span class="toc-text">浏览器中的js</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#node-js%E4%B8%AD%E7%9A%84js"><span class="toc-number">1.0.2.</span> <span class="toc-text">node.js中的js</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%B8%E5%BF%83%E6%A8%A1%E5%9D%97"><span class="toc-number">1.1.</span> <span class="toc-text">核心模块</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#fs%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C%E6%A8%A1%E5%9D%97"><span class="toc-number">1.1.1.</span> <span class="toc-text">fs文件操作模块</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#http%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1%E6%9E%84%E5%BB%BA%E6%A8%A1%E5%9D%97"><span class="toc-number">1.1.2.</span> <span class="toc-text">http网络服务构建模块</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3%E6%96%87%E5%AD%97%E4%B9%B1%E7%A0%81%E9%97%AE%E9%A2%98"><span class="toc-number">1.1.2.1.</span> <span class="toc-text">解决文字乱码问题</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#os%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E4%BF%A1%E6%81%AF%E6%A8%A1%E5%9D%97"><span class="toc-number">1.1.3.</span> <span class="toc-text">os操作系统信息模块</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#path%E8%B7%AF%E5%BE%84%E5%A4%84%E7%90%86%E6%A8%A1%E5%9D%97"><span class="toc-number">1.1.4.</span> <span class="toc-text">path路径处理模块</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#url%EF%BC%9A%E7%BB%9F%E4%B8%80%E8%B5%84%E6%BA%90%E5%AE%9A%E4%BD%8D%E7%AC%A6"><span class="toc-number">1.1.5.</span> <span class="toc-text">url：统一资源定位符</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E8%87%AA%E5%AE%9A%E4%B9%89%E6%A8%A1%E5%9D%97"><span class="toc-number">1.2.</span> <span class="toc-text">用户自定义模块</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95"><span class="toc-number">1.2.1.</span> <span class="toc-text">语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A1%88%E4%BE%8B%E6%A8%A1%E6%9D%BF"><span class="toc-number">1.2.2.</span> <span class="toc-text">案例模板</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%BC%E5%87%BAexports"><span class="toc-number">1.3.</span> <span class="toc-text">导出exports</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#exports%E5%8E%9F%E7%90%86%E8%A7%A3%E6%9E%90"><span class="toc-number">1.3.1.</span> <span class="toc-text">exports原理解析</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#require%E6%96%B9%E6%B3%95%E5%8A%A0%E8%BD%BD%E8%A7%84%E5%88%99"><span class="toc-number">1.4.</span> <span class="toc-text">require方法加载规则</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#IP%E5%9C%B0%E5%9D%80%E5%92%8C%E7%AB%AF%E5%8F%A3%E5%8F%B7%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="toc-number">1.5.</span> <span class="toc-text">IP地址和端口号的概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B8%B2%E6%9F%93%E5%92%8C%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%B8%B2%E6%9F%93%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">1.6.</span> <span class="toc-text">服务端渲染和客户端渲染的区别</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Node-js-REPL-Read-Eval-Print-Loop-%E4%BA%A4%E4%BA%92%E5%BC%8F%E8%A7%A3%E9%87%8A%E5%99%A8"><span class="toc-number">1.7.</span> <span class="toc-text">Node.js REPL(Read Eval Print Loop:交互式解释器)</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%A1%88%E4%BE%8B%E6%A8%A1%E6%9D%BF-1"><span class="toc-number">2.</span> <span class="toc-text">案例模板</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#npm%EF%BC%88%E5%AE%89%E8%A3%85%E7%AC%AC%E4%B8%89%E6%96%B9%E8%BD%AF%E4%BB%B6%EF%BC%89"><span class="toc-number">3.</span> <span class="toc-text">npm（安装第三方软件）</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#npm%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7"><span class="toc-number">3.1.</span> <span class="toc-text">npm命令行工具</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="toc-number">3.2.</span> <span class="toc-text">常用命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3npm%E8%A2%AB%E5%A2%99%E9%97%AE%E9%A2%98"><span class="toc-number">3.3.</span> <span class="toc-text">解决npm被墙问题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#package-json"><span class="toc-number">3.4.</span> <span class="toc-text">package.json</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#nrm"><span class="toc-number">3.5.</span> <span class="toc-text">nrm</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#nodemon%E8%87%AA%E5%8A%A8%E9%87%8D%E5%90%AF%E5%B7%A5%E5%85%B7"><span class="toc-number">3.6.</span> <span class="toc-text">nodemon自动重启工具</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Express"><span class="toc-number">4.</span> <span class="toc-text">Express</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85"><span class="toc-number">4.1.</span> <span class="toc-text">安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#hello-world"><span class="toc-number">4.2.</span> <span class="toc-text">hello world</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E5%AE%8C%E6%88%90%E4%BB%A3%E7%A0%81%E8%87%AA%E5%8A%A8%E9%87%8D%E5%90%AF"><span class="toc-number">4.3.</span> <span class="toc-text">修改完成代码自动重启</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%B7%AF%E7%94%B1"><span class="toc-number">4.4.</span> <span class="toc-text">基本路由</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E6%9C%8D%E5%8A%A1"><span class="toc-number">4.5.</span> <span class="toc-text">静态服务</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9C%A8Express%E4%B8%AD%E9%85%8D%E7%BD%AE%E4%BD%BF%E7%94%A8art-template%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E"><span class="toc-number">4.6.</span> <span class="toc-text">在Express中配置使用art-template模板引擎</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9C%A8Express%E8%8E%B7%E5%8F%96%E8%A1%A8%E5%8D%95get%E8%AF%B7%E6%B1%82%E6%95%B0%E6%8D%AE"><span class="toc-number">4.7.</span> <span class="toc-text">在Express获取表单get请求数据</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9C%A8Express%E8%8E%B7%E5%8F%96%E8%A1%A8%E5%8D%95post%E8%AF%B7%E6%B1%82%E6%95%B0%E6%8D%AE"><span class="toc-number">4.8.</span> <span class="toc-text">在Express获取表单post请求数据</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#MongoDB"><span class="toc-number">5.</span> <span class="toc-text">MongoDB</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#MongoDB%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">5.1.</span> <span class="toc-text">MongoDB数据库的基本概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93%E5%92%8C%E9%9D%9E%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">5.2.</span> <span class="toc-text">关系型数据库和非关系型数据库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-1"><span class="toc-number">5.3.</span> <span class="toc-text">安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%9E%E6%8E%A5%E5%92%8C%E9%80%80%E5%87%BA%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">5.4.</span> <span class="toc-text">连接和退出数据库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4"><span class="toc-number">5.5.</span> <span class="toc-text">基本命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#hello-word"><span class="toc-number">5.6.</span> <span class="toc-text">hello word</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%98%E6%96%B9%E6%8C%87%E5%8D%97"><span class="toc-number">5.7.</span> <span class="toc-text">官方指南</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8Node%E6%93%8D%E4%BD%9CMySQL%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">6.</span> <span class="toc-text">使用Node操作MySQL数据库</span></a></li></ol>
                </div>
            
            <hr />
            <h1 id="nodejs"><a href="#nodejs" class="headerlink" title="nodejs"></a>nodejs</h1><blockquote>
<p>nodejs不是语言不是框架<br>是js的一个运行时环境<br>可以解析执行js代码</p>
<p>运行的时候指的是指令加载到内存并由CPU执行的时候</p>
</blockquote>
<h3 id="浏览器中的js"><a href="#浏览器中的js" class="headerlink" title="浏览器中的js"></a>浏览器中的js</h3><p>EcmaScript(基本语法、if、var、function、Object、Array)<br>BOM<br>DOM</p>
<h3 id="node-js中的js"><a href="#node-js中的js" class="headerlink" title="node.js中的js"></a>node.js中的js</h3><p>EcmaScript语法</p>
<p>服务端不操作页面（没有BOM、DOM）</p>
<ul>
<li>核心模块</li>
<li>第三方模块</li>
<li>用户自定义模块</li>
</ul>
<blockquote>
<p>nodejs特性：事件驱动、非阻塞IO模型</p>
</blockquote>
<h2 id="核心模块"><a href="#核心模块" class="headerlink" title="核心模块"></a>核心模块</h2><p>在node这个js执行环境中为js提供了一些服务器级别的操作API，这些API大多数都包装到核心模块中。</p>
<p>例如文件操作的<code>fs</code>核心模块，http服务构建的<code>http</code>模块，<code>path</code>路径操作模块，<code>os</code>操作系统信息模块。。。</p>
<p>所有核心模块在使用的时候都必须手动的先使用<code>require</code>方法来加载，才可以使用。</p>
<p>核心模块本质也是文件。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> http = <span class="built_in">require</span>(<span class="string">&#x27;http&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> os = <span class="built_in">require</span>(<span class="string">&#x27;os&#x27;</span>);</span><br></pre></td></tr></table></figure>



<h3 id="fs文件操作模块"><a href="#fs文件操作模块" class="headerlink" title="fs文件操作模块"></a>fs文件操作模块</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>);</span><br><span class="line"><span class="comment">//参数：文件路径，文件内容，回调函数</span></span><br><span class="line"><span class="comment">//error</span></span><br><span class="line"><span class="comment">//成功：文件写入成功，data是数据，error是null</span></span><br><span class="line"><span class="comment">//失败：文件写入成功，data是undefined，error是错误对象</span></span><br><span class="line">fs.writeFile(<span class="string">&#x27;./a.txt&#x27;</span>,<span class="string">&#x27;你好&#x27;</span>,<span class="function"><span class="keyword">function</span>(<span class="params">err</span>)</span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(err)&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(err);</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">&#x27;success&#x27;</span>);</span><br><span class="line">&#125;)</span><br><span class="line">fs.readFile(<span class="string">&#x27;a.txt&#x27;</span>,<span class="string">&#x27;utf8&#x27;</span>,<span class="function"><span class="keyword">function</span>(<span class="params">err,data</span>)</span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(err)&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(err);</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">console</span>.log(data);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="http网络服务构建模块"><a href="#http网络服务构建模块" class="headerlink" title="http网络服务构建模块"></a>http网络服务构建模块</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1、加载http核心模块</span></span><br><span class="line"><span class="keyword">var</span> http = <span class="built_in">require</span>(<span class="string">&#x27;http&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//2、使用http.createServer()方法创建web服务器</span></span><br><span class="line"><span class="comment">//返回server实例</span></span><br><span class="line"><span class="keyword">var</span> server = http.createServer();</span><br><span class="line"></span><br><span class="line"><span class="comment">//3、监听请求,当客户端请求过来，就会触发服务器的request请求事件，然后执行第二个参数：回调处理函数</span></span><br><span class="line">server.on(<span class="string">&#x27;request&#x27;</span>,<span class="function"><span class="keyword">function</span>(<span class="params">req,res</span>)</span>&#123;</span><br><span class="line"><span class="comment">//req -request 请求对象：可以用来获取客户端的一些请求信息，例如请求路径</span></span><br><span class="line"><span class="comment">//res -respose 响应对象：可以用来给客户端发送响应消息</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;收到客户端请求了&#x27;</span>);</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//4、绑定端口号，启动服务</span></span><br><span class="line">server.listen(<span class="number">8080</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">&#x27;服务启动成功，访问：http://localhost:8080&#x27;</span>);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>服务器用来提供对数据的服务</p>
<p>1、发送请求</p>
<p>2、接收请求</p>
<p>3、处理请求</p>
<p>4、发送响应</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">server.on(<span class="string">&#x27;request&#x27;</span>,<span class="function"><span class="keyword">function</span>(<span class="params">req,res</span>)</span>&#123;</span><br><span class="line"><span class="comment">//respose对象有个方法：write可以用来给客户端发送响应数据</span></span><br><span class="line"><span class="comment">//write可以多次使用，但最后一定要使用end来结束响应，否则客户端会一直等待</span></span><br><span class="line">respose.write(<span class="string">&#x27;hello&#x27;</span>)</span><br><span class="line"><span class="comment">//告诉客户端，我话说完了，你可以呈递给用户了。</span></span><br><span class="line">respose.end()</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//发送响应数据，同时结束响应</span></span><br><span class="line"><span class="comment">//一次请求对应一次响应，响应结束这次请求也就结束了，再多次res.end()也没有用</span></span><br><span class="line">respose.end(<span class="string">&#x27;hello&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h4 id="解决文字乱码问题"><a href="#解决文字乱码问题" class="headerlink" title="解决文字乱码问题"></a>解决文字乱码问题</h4><p>服务器默认发送的数据，是utf8编码的内容<br>但浏览器不知道<br>中文操作系统默认是gbk<br>在http协议中，Content-Type是用来告知对方数据内容是什么类型，plain是普通文本<br>不同的资源对应的Content-Type不同<br>一般只为字符数据才指定编码，图片不需要</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> http = <span class="built_in">require</span>(<span class="string">&#x27;http&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> server = http.createServer();</span><br><span class="line">server.on(<span class="string">&#x27;request&#x27;</span>,<span class="function"><span class="keyword">function</span>(<span class="params">req,res</span>)</span>&#123;</span><br><span class="line">    res.setHeader(<span class="string">&#x27;Content-Type&#x27;</span>,<span class="string">&#x27;text/plain;charset=utf-8&#x27;</span>);</span><br><span class="line">	res.end(<span class="string">&#x27;hello 世界&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">server.listen(<span class="number">8080</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">&#x27;Server is running...&#x27;</span>);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<h3 id="os操作系统信息模块"><a href="#os操作系统信息模块" class="headerlink" title="os操作系统信息模块"></a>os操作系统信息模块</h3><h3 id="path路径处理模块"><a href="#path路径处理模块" class="headerlink" title="path路径处理模块"></a>path路径处理模块</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// dirname 后去一层</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// basename 取最后一层</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//1、引入内置模块</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//2、练习</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> testData = <span class="string">&#x27;D:/node/www/day1/add.html&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(path.basename(testData))<span class="comment">//add.html</span></span><br><span class="line"></span><br><span class="line">testData = path.dirname(testData);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(testData);<span class="comment">//D:/node/www/day1</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(path.basename(testData));<span class="comment">//day1</span></span><br></pre></td></tr></table></figure>





<h3 id="url：统一资源定位符"><a href="#url：统一资源定位符" class="headerlink" title="url：统一资源定位符"></a>url：统一资源定位符</h3><p><strong>一个url对应一个资源</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//引入url内置模块</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> url = <span class="built_in">require</span>(<span class="string">&#x27;url&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//2、使用</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> data = <span class="string">&#x27;http://itcast.cn?name=张三&amp;age=18&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(data);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(url.parse(data));</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(url.parse(data,<span class="literal">true</span>));</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> urlQueryObj = url.parse(data,<span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(urlQueryObj.query);<span class="comment">//对象 &#123; name: &#x27;张三&#x27;, age: &#x27;18&#x27; &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(urlQueryObj.query.name);<span class="comment">//张三</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(urlQueryObj.query.age);<span class="comment">//18</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>根据不同的请求路径发送不同的响应结果</p>
<p>响应内容只能是二进制数或字符串</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//根据不同的请求路径发送不同的响应结果</span></span><br><span class="line"><span class="keyword">var</span> url = <span class="built_in">require</span>(<span class="string">&#x27;url&#x27;</span>);</span><br><span class="line"><span class="keyword">if</span>(url === <span class="string">&#x27;/products&#x27;</span>)&#123;</span><br><span class="line">	<span class="keyword">var</span> products =[</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="attr">name</span>:<span class="string">&#x27;苹果 X&#x27;</span>,</span><br><span class="line">		<span class="attr">price</span>:<span class="number">8888</span></span><br><span class="line">	&#125;,</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="attr">name</span>:<span class="string">&#x27;菠萝 X&#x27;</span>,</span><br><span class="line">		<span class="attr">price</span>:<span class="number">5000</span></span><br><span class="line">	&#125;,</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="attr">name</span>:<span class="string">&#x27;小辣椒 X&#x27;</span>,</span><br><span class="line">		<span class="attr">price</span>:<span class="number">1999</span></span><br><span class="line">	&#125;</span><br><span class="line">	]</span><br><span class="line">	<span class="comment">//响应内容只能是二进制数或字符串</span></span><br><span class="line">	<span class="comment">//stringify()数组转化成字符串</span></span><br><span class="line">	respose.end(<span class="built_in">JSON</span>.stringify(products))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">server.listen(<span class="number">8080</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">&#x27;服务启动成功，访问：http://localhost:8080&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>





<h2 id="用户自定义模块"><a href="#用户自定义模块" class="headerlink" title="用户自定义模块"></a>用户自定义模块</h2><h3 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h3><p>1、导出成员<br>2、外部引入使用</p>
<h3 id="案例模板"><a href="#案例模板" class="headerlink" title="案例模板"></a>案例模板</h3><p><strong>a.js</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//引入自定义模块</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//require从内存中获取数据并付给新变量</span></span><br><span class="line"><span class="comment">//可以省略后缀名</span></span><br><span class="line"><span class="keyword">var</span> bExports = <span class="built_in">require</span>(<span class="string">&#x27;./b.js&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(bExports);</span><br><span class="line"></span><br><span class="line">bExports.add();</span><br><span class="line">bExports.del();</span><br><span class="line"></span><br><span class="line">bExports.readFile(<span class="string">&#x27;./a.js&#x27;</span>)</span><br><span class="line">fs.readFile(<span class="string">&#x27;a.txt&#x27;</span>,<span class="string">&#x27;utf8&#x27;</span>,<span class="function"><span class="keyword">function</span>(<span class="params">err,data</span>)</span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(err)&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(err);</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">console</span>.log(data);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<p><strong>b.js</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//定义</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">&#x27;this is add&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">del</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">&#x27;this is del&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//导出(module.exports/exports.成员名=值)</span></span><br><span class="line"><span class="built_in">exports</span>.add = add;</span><br><span class="line"><span class="built_in">exports</span>.del = del;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="导出exports"><a href="#导出exports" class="headerlink" title="导出exports"></a>导出<code>exports</code></h2><ul>
<li><p>require方法的两个作用：<br>1、用来加载模块并执行里面的代码<br>2、拿到被加载文件模块导出的接口对象</p>
</li>
<li><p>每个文件模块中都提供一个对象：exports<br>exports默认是一个<strong>空对象</strong></p>
</li>
<li><p>在node中，没有全局作用域，只有模块文件作用域，默认文件中所有成员只在当前文件模块有效</p>
</li>
</ul>
<p><strong>导出多个成员</strong>（必须在对象中）：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">exports</span>.a = <span class="number">123</span></span><br><span class="line"><span class="built_in">exports</span>.b =<span class="string">&#x27;hello&#x27;</span></span><br><span class="line"><span class="built_in">exports</span>.c = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;ccc&#x27;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">exports</span>.d = &#123;</span><br><span class="line">    <span class="attr">foo</span>:<span class="string">&#x27;bar&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>导出单个成员</strong>（拿到的就是：函数、字符串）</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = <span class="string">&#x27;hello&#x27;</span></span><br></pre></td></tr></table></figure>

<p>以下情况会覆盖</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = <span class="string">&#x27;hello&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//以这个为准，后者会覆盖前者</span></span><br><span class="line"><span class="built_in">module</span>.exports = <span class="function"><span class="keyword">function</span>(<span class="params">x,y</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x + y</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>也可以这样来导出多个成员</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports =&#123;</span><br><span class="line">    <span class="attr">add</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> x + y</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">str</span>:<span class="string">&#x27;hello&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="exports原理解析"><a href="#exports原理解析" class="headerlink" title="exports原理解析"></a>exports原理解析</h3><p><code>exports</code>是<code>module.exports</code>的一个<strong>引用</strong>：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">exports</span> === <span class="built_in">module</span>.exports) <span class="comment">//=&gt;true</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">exports</span>.foo = <span class="string">&#x27;bar&#x27;</span></span><br><span class="line"><span class="comment">//等价于</span></span><br><span class="line"><span class="built_in">module</span>.exports.foo = <span class="string">&#x27;bar&#x27;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>当exports重新赋值时，则不等于module.exports里的值，且module.exports里的值不会被改变。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//重新建立exports和module.exports之间的引用关系</span></span><br><span class="line"><span class="built_in">exports</span> = <span class="built_in">module</span>.exports</span><br></pre></td></tr></table></figure>



<h2 id="require方法加载规则"><a href="#require方法加载规则" class="headerlink" title="require方法加载规则"></a>require方法加载规则</h2><p><strong>模块查找机制</strong></p>
<ul>
<li>优先从缓存中加载</li>
<li>核心模块</li>
<li>路径形式的文件模块</li>
<li>第三方模块</li>
</ul>
<p><strong>路径形式的模块</strong></p>
<ul>
<li>./当前目录</li>
<li>../上级目录</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//可以省略后缀名</span></span><br><span class="line"><span class="keyword">var</span> bExports = <span class="built_in">require</span>(<span class="string">&#x27;./b.js&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p><strong>核心模块</strong></p>
<ul>
<li>本质也是文件。</li>
<li>核心模块文件已经编译到二进制文件中，只需按照名字加载就可以了</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">&#x27;fs&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> http = <span class="built_in">require</span>(<span class="string">&#x27;http&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p><strong>第三方模块</strong></p>
<ul>
<li>凡是第三方模块都必须通过npm来下载</li>
<li>使用时可以通过require(‘包名’)的方式加载使用</li>
<li>node_modules/art-template/package.json文件中的main属性就记录了art-template的入口模块</li>
<li>实际上最终加载的还是文件</li>
<li>如果package.json不存在或main指定入口模块也没有</li>
<li>则node会自动找该目录下的index.js（index.js就是个默认备选项）</li>
<li>一个项目仅有一个node_modules 且存放在项目根目录</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//安装第三方包npm i art-template</span></span><br><span class="line"><span class="keyword">var</span> template = require(<span class="string">&#x27;art-template&#x27;</span>);</span><br></pre></td></tr></table></figure>





<h2 id="IP地址和端口号的概念"><a href="#IP地址和端口号的概念" class="headerlink" title="IP地址和端口号的概念"></a>IP地址和端口号的概念</h2><ul>
<li><p>ip地址用来定位计算机</p>
</li>
<li><p>端口号用来定位具体的应用程序</p>
</li>
<li><p>所有需要联网通信的应用程序都会占用一个端口号</p>
</li>
<li><p>端口号的范围从0~65536之间</p>
</li>
<li><p>在计算机中有些端口号，最好不要去使用，例如http服务默认的80</p>
</li>
<li><p>练习的时候使用简单好记的就可以了，如3000、5000等没有什么含义</p>
</li>
<li><p>在一台计算机中，同一个端口号同一时间只能被一个程序占用</p>
</li>
</ul>
<h2 id="服务端渲染和客户端渲染的区别"><a href="#服务端渲染和客户端渲染的区别" class="headerlink" title="服务端渲染和客户端渲染的区别"></a>服务端渲染和客户端渲染的区别</h2><ul>
<li>服务端渲染说白了就是在服务端使用模板引擎</li>
<li>客户端渲染不利于SEO搜索引擎优化</li>
<li>服务端渲染是可以被爬虫抓取到的，客户端异步渲染是很难被爬虫抓取到的</li>
<li>所以真正的网站是二者结合来做的</li>
<li>例如：京东的商品列表就是采用服务端渲染，目的是为了SEO搜索引擎优化</li>
<li>而它的商品评论列表为了用户体验，而且也不需要SEO搜索引擎优化，所以采用的是客户端渲染</li>
</ul>
<h2 id="Node-js-REPL-Read-Eval-Print-Loop-交互式解释器"><a href="#Node-js-REPL-Read-Eval-Print-Loop-交互式解释器" class="headerlink" title="Node.js REPL(Read Eval Print Loop:交互式解释器)"></a>Node.js REPL(Read Eval Print Loop:交互式解释器)</h2><p>这个环境的作用只是用来做一些辅助测试：例如可以直接在里面使用node中的核心模块而不需要require加载。</p>
<p>表示一个电脑的环境，类似 Window 系统的终端或 Unix/Linux shell，我们可以在终端中输入命令，并接收系统的响应。</p>
<p>Node 自带了交互式解释器，可以执行以下任务：</p>
<ul>
<li><strong>读取</strong> - 读取用户输入，解析输入了Javascript 数据结构并存储在内存中。</li>
<li><strong>执行</strong> - 执行输入的数据结构</li>
<li><strong>打印</strong> - 输出结果</li>
<li><strong>循环</strong> - 循环操作以上步骤直到用户两次按下 <strong>ctrl-c</strong> 按钮退出。</li>
</ul>
<h1 id="案例模板-1"><a href="#案例模板-1" class="headerlink" title="案例模板"></a>案例模板</h1><ol>
<li><p>/ index.html</p>
</li>
<li><p>开放public目录中的静态资源</p>
<p>当请求  /public/xxx 的时候，读取响应 public 目录中的具体资源</p>
</li>
<li><p>/post post.html</p>
</li>
<li><p>/tijiao</p>
<p>4.1接收表单提交数据</p>
<p>4.2存储表单提交数据</p>
<p>4.3让表单重定向到 /</p>
</li>
</ol>
<h1 id="npm（安装第三方软件）"><a href="#npm（安装第三方软件）" class="headerlink" title="npm（安装第三方软件）"></a>npm（安装第三方软件）</h1><ul>
<li><p>node package manager （node 包管理器）</p>
</li>
<li><p>npm是世界上最大的开源库生态系统</p>
</li>
<li><p>绝大多数js相关的包都放在了npm上，为了方便开发人员下载使用</p>
</li>
<li><p>只要安装了node就已经安装了npm</p>
</li>
<li><p>npm网站：npmjs.com</p>
</li>
</ul>
<h2 id="npm命令行工具"><a href="#npm命令行工具" class="headerlink" title="npm命令行工具"></a>npm命令行工具</h2><p>查看版本号可以在命令行输入:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm --version</span><br></pre></td></tr></table></figure>

<p>升级npm:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --global npm</span><br></pre></td></tr></table></figure>



<h2 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h2><ul>
<li><p><code>npm init -y</code>    </p>
<ul>
<li> 可以跳过向导，快速生成package.json</li>
</ul>
</li>
<li><p><code>npm install</code>  </p>
<ul>
<li>一下子把<code>dependencies</code>中的依赖项全部安装</li>
</ul>
</li>
<li><p><code>npm install 包名 </code>         </p>
<ul>
<li>只下载</li>
<li>简写 <code>npm i 包名</code></li>
</ul>
</li>
<li><p><code>npm install --save 包名 </code>        </p>
<ul>
<li>下载并保存依赖项</li>
<li>简写 <code>npm i -S 包名</code></li>
</ul>
</li>
<li><p><code>npm uninstall 包名</code></p>
<ul>
<li>只删除，如果有依赖项会依然保存</li>
<li>简写<code>npm un 包名</code></li>
</ul>
</li>
<li><p><code>npm uninstall --save 包名</code></p>
<ul>
<li>删除的同时也会把依赖信息去除</li>
<li>简写<code>npm un -S 包名</code></li>
</ul>
</li>
<li><p><code>npm help</code></p>
<ul>
<li>查看使用帮助</li>
</ul>
</li>
<li><p><code>npm 命令 --help</code></p>
<ul>
<li>查看指定命令的使用帮助</li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">安装：npm install 模块名 -g/--save-dev/--save</span><br><span class="line">卸载：npm uninstall 模块名</span><br><span class="line">通过npm config list 可以看全局目录所在位置</span><br><span class="line">-g 全局（global）</span><br></pre></td></tr></table></figure>



<h2 id="解决npm被墙问题"><a href="#解决npm被墙问题" class="headerlink" title="解决npm被墙问题"></a>解决npm被墙问题</h2><p>npm存储包文件的服务器在国外，有时候会被墙，速度很慢</p>
<p><a target="_blank" rel="noopener" href="https://npm.taobao.org/%E6%B7%98%E5%AE%9D%E7%9A%84%E5%BC%80%E5%8F%91%E5%9B%A2%E9%98%9F%E6%8A%8Anpm%E5%9C%A8%E5%9B%BD%E5%86%85%E5%81%9A%E4%BA%86%E4%B8%80%E4%B8%AA%E5%A4%87%E4%BB%BD">https://npm.taobao.org/淘宝的开发团队把npm在国内做了一个备份</a></p>
<p>安装淘宝的cnpm:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">在任意目录执行都可以</span></span><br><span class="line">npm install --global cnpm</span><br></pre></td></tr></table></figure>

<p>接下来你安装包的时候把之前的<code>npm</code>换成<code>cnpm</code></p>
<p>举个例子</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">使用cnpm就会通过淘宝的服务器来下载jquery</span></span><br><span class="line">cnpm install jquery</span><br></pre></td></tr></table></figure>



<h2 id="package-json"><a href="#package-json" class="headerlink" title="package.json"></a>package.json</h2><ul>
<li>建议每个项目都要有一个<code>package.json</code>文件(包描述文件)</li>
<li>可以通过<code>npm init</code>的方式自动初始化出来</li>
<li>建议执行<code>npm install 包名</code>的时候都加上<code>--save</code>这个选项，目的是用来保存依赖项信息</li>
<li>如果<code>node_modules</code>删除了，只需要<code>npm install</code>就会自动把<code>package.json</code>中的<code>dependencies</code>中所有的依赖项都下载回来</li>
</ul>
<h2 id="nrm"><a href="#nrm" class="headerlink" title="nrm"></a>nrm</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">安装npm install nrm -g</span><br><span class="line">查看服务器 nrm ls</span><br><span class="line">切换 nrm use 服务器名</span><br><span class="line">测速nrm test npm</span><br></pre></td></tr></table></figure>

<p>npm自定义脚本命令</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm run 键</span><br><span class="line">npm start</span><br></pre></td></tr></table></figure>

<p>日期处理模块</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">初始化npm init -y</span><br><span class="line">安装npm install moment</span><br></pre></td></tr></table></figure>



<h2 id="nodemon自动重启工具"><a href="#nodemon自动重启工具" class="headerlink" title="nodemon自动重启工具"></a>nodemon自动重启工具</h2><p>安装</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g nodemon</span><br></pre></td></tr></table></figure>

<p><em>传送门：<a target="_blank" rel="noopener" href="http://nodemon.io/">http://nodemon.io/</a></em></p>
<h1 id="Express"><a href="#Express" class="headerlink" title="Express"></a>Express</h1><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save express</span><br></pre></td></tr></table></figure>

<h2 id="hello-world"><a href="#hello-world" class="headerlink" title="hello world"></a>hello world</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//0、安装</span></span><br><span class="line"><span class="comment">//npm init -y</span></span><br><span class="line"><span class="comment">//npm i -S express</span></span><br><span class="line"><span class="comment">//1、引包</span></span><br><span class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">//2、创建服务器应用程序，也就是相当于http.createServer</span></span><br><span class="line"><span class="keyword">var</span> app = express()</span><br><span class="line"></span><br><span class="line"><span class="comment">//公开指定目录</span></span><br><span class="line"><span class="comment">//可以通过/public/xx的方式访问public中的所有资源</span></span><br><span class="line">app.use(<span class="string">&#x27;/public/&#x27;</span>,express.static(<span class="string">&#x27;./public/&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">//当服务器收到get请求/时，执行回调处理函数</span></span><br><span class="line">app.get(<span class="string">&#x27;/&#x27;</span>,<span class="function"><span class="keyword">function</span>(<span class="params">req,res</span>)</span>&#123;</span><br><span class="line">    <span class="comment">//在Express中可以直接req.query来获取查询1字符串参数</span></span><br><span class="line">    <span class="built_in">console</span>.log(req.query)</span><br><span class="line">    res.send(<span class="string">&#x27;hello world!&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">app.get(<span class="string">&#x27;/tijiao&#x27;</span>,<span class="function"><span class="keyword">function</span>(<span class="params">req,res</span>)</span>&#123;</span><br><span class="line">   <span class="comment">//模板引擎res.render(&#x27;文件名&#x27;,&#123;模板对象&#125;)</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//启动服务，相当于server.listen</span></span><br><span class="line">app.listen(<span class="number">8080</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;服务启动成功，访问：http://localhost:8080&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<h2 id="修改完成代码自动重启"><a href="#修改完成代码自动重启" class="headerlink" title="修改完成代码自动重启"></a>修改完成代码自动重启</h2><p>我们可以使用一个第三方命令行工具，<code>nodemon</code>来帮助解决修改代码重启服务器问题。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">任意目录执行</span></span><br><span class="line">npm install --global nodemon</span><br></pre></td></tr></table></figure>

<p>安装完毕后使用：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">node app.js</span><br><span class="line"><span class="meta"></span></span><br><span class="line"><span class="meta">#</span><span class="bash">使用nodemon</span></span><br><span class="line">nodemon app.js</span><br></pre></td></tr></table></figure>

<p>它会监视你的文件变化。</p>
<p>检验是否安装成功：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nodemon --version</span><br></pre></td></tr></table></figure>





<h2 id="基本路由"><a href="#基本路由" class="headerlink" title="基本路由"></a>基本路由</h2><p>路由器</p>
<ul>
<li>请求方法</li>
<li>请求路径</li>
<li>请求处理函数</li>
</ul>
<p>get：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">app.get(<span class="string">&#x27;/&#x27;</span>,<span class="function"><span class="keyword">function</span>(<span class="params">req,res</span>)</span>&#123;</span><br><span class="line">    res.send(<span class="string">&#x27;hello world!&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>post:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">app.post(<span class="string">&#x27;/&#x27;</span>,<span class="function"><span class="keyword">function</span>(<span class="params">req,res</span>)</span>&#123;</span><br><span class="line">    res.send(<span class="string">&#x27;hello world!&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="静态服务"><a href="#静态服务" class="headerlink" title="静态服务"></a>静态服务</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// /public资源</span></span><br><span class="line">app.use(express.static(<span class="string">&#x27;public&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">// /files资源</span></span><br><span class="line">app.use(express.static(<span class="string">&#x27;files&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">// /public/xxx</span></span><br><span class="line">app.use(<span class="string">&#x27;/public&#x27;</span>,express.static(<span class="string">&#x27;./public&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">// /static/xxx</span></span><br><span class="line">app.use(<span class="string">&#x27;/static&#x27;</span>,express.static(<span class="string">&#x27;public&#x27;</span>))</span><br><span class="line"></span><br><span class="line">app.use(<span class="string">&#x27;/static&#x27;</span>,express.static(path.join(__dirname,<span class="string">&#x27;public&#x27;</span>)))</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="在Express中配置使用art-template模板引擎"><a href="#在Express中配置使用art-template模板引擎" class="headerlink" title="在Express中配置使用art-template模板引擎"></a>在Express中配置使用<code>art-template</code>模板引擎</h2><p>安装：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install --save art-template</span><br><span class="line">npm install --save express-art-template</span><br></pre></td></tr></table></figure>

<p>配置：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">app.engine(<span class="string">&#x27;art&#x27;</span>,<span class="built_in">require</span>(<span class="string">&#x27;express-art-template&#x27;</span>))</span><br></pre></td></tr></table></figure>

<p>使用：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">app.get(<span class="string">&#x27;/&#x27;</span>,<span class="function"><span class="keyword">function</span>(<span class="params">req,res</span>)</span>&#123;</span><br><span class="line">    <span class="comment">//express默认会去项目中的views 目录中找index.html</span></span><br><span class="line">    res.render(<span class="string">&#x27;index.html&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>如果希望修改默认的<code>views</code>视图渲染存储目录，可以：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//注意:第一个参数views不要写错</span></span><br><span class="line">app.set(<span class="string">&#x27;views&#x27;</span>,目录路径)</span><br></pre></td></tr></table></figure>

<h2 id="在Express获取表单get请求数据"><a href="#在Express获取表单get请求数据" class="headerlink" title="在Express获取表单get请求数据"></a>在Express获取表单get请求数据</h2><p>Express内置了一个API，可以直接通过<code>req.query</code>来获取</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">req.query</span><br></pre></td></tr></table></figure>



<h2 id="在Express获取表单post请求数据"><a href="#在Express获取表单post请求数据" class="headerlink" title="在Express获取表单post请求数据"></a>在Express获取表单post请求数据</h2><p>在Express中没有内置获取表单post请求体的API，需要使用第三方包<code>body-parser</code></p>
<p>安装：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save body-parser</span><br></pre></td></tr></table></figure>

<p>配置：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="comment">//引包</span></span><br><span class="line"><span class="keyword">var</span> bodyParser = <span class="built_in">require</span>(<span class="string">&#x27;body-parser&#x27;</span>)</span><br><span class="line"><span class="keyword">var</span> app = express()</span><br><span class="line"></span><br><span class="line"><span class="comment">//配置body-parser</span></span><br><span class="line">app.use(bodyParser.urlencoded(&#123;<span class="attr">extended</span>:<span class="literal">false</span>&#125;))</span><br><span class="line">app.use(bodyParser.json())</span><br></pre></td></tr></table></figure>

<p>使用：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">app.use(<span class="function"><span class="keyword">function</span>(<span class="params">req,res</span>)</span>&#123;</span><br><span class="line">    <span class="comment">//可以通过req.body来获取请求体数据</span></span><br><span class="line">    res.end(<span class="built_in">JSON</span>.stringify(req.body,<span class="literal">null</span>,<span class="number">2</span>))</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>







<h1 id="MongoDB"><a href="#MongoDB" class="headerlink" title="MongoDB"></a>MongoDB</h1><h2 id="MongoDB数据库的基本概念"><a href="#MongoDB数据库的基本概念" class="headerlink" title="MongoDB数据库的基本概念"></a>MongoDB数据库的基本概念</h2><ul>
<li>可以有多个数据库</li>
<li>一个数据库中可以有多个集合（表）</li>
<li>一个集合中可以有多个文档（表记录）</li>
<li>文档结构很灵活，没有任何限制</li>
<li>MongoDB非常灵活，不需要像MySQL一样先创建数据库、表、设计表结构<ul>
<li>在这里只需要，当你需要插入数据的时候，只需要指定往哪个数据库的哪个集合操作就可以了</li>
<li>建库建表由MongoDB自动帮你完成</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">qq</span>:&#123;<span class="comment">//数据库</span></span><br><span class="line">        <span class="attr">users</span>:[<span class="comment">//集合</span></span><br><span class="line">            &#123;<span class="attr">name</span>:<span class="string">&#x27;张三&#x27;</span>,<span class="attr">age</span>:<span class="number">15</span>&#125;,<span class="comment">//文档</span></span><br><span class="line">            &#123;<span class="attr">name</span>:<span class="string">&#x27;李四&#x27;</span>,<span class="attr">age</span>:<span class="number">15</span>&#125;,</span><br><span class="line">            &#123;<span class="attr">name</span>:<span class="string">&#x27;王五&#x27;</span>,<span class="attr">age</span>:<span class="number">15</span>&#125;,</span><br><span class="line">            &#123;<span class="attr">name</span>:<span class="string">&#x27;张三123&#x27;</span>,<span class="attr">age</span>:<span class="number">15</span>&#125;</span><br><span class="line">			...</span><br><span class="line">        ],</span><br><span class="line">        <span class="attr">products</span>:[</span><br><span class="line">            </span><br><span class="line">        ],</span><br><span class="line">        ...</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">taobao</span>:&#123;</span><br><span class="line">            </span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">baidu</span>:&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="关系型数据库和非关系型数据库"><a href="#关系型数据库和非关系型数据库" class="headerlink" title="关系型数据库和非关系型数据库"></a>关系型数据库和非关系型数据库</h2><p>表就是关系</p>
<p>或者说表与表之间存在关系</p>
<ul>
<li><p>所有关系型数据库都需要通过<code>sql</code>语言来操作</p>
</li>
<li><p>所有关系型数据库在操作之前都需要设计表结构</p>
</li>
<li><p>而且数据表还支持约束</p>
<ul>
<li>唯一的</li>
<li>主键</li>
<li>默认值</li>
<li>非空</li>
</ul>
</li>
<li><p>非关系型数据库非常灵活</p>
</li>
<li><p>有的非关系型数据库就是key-value对儿</p>
</li>
<li><p>但MongoDB是长的最像关系型数据库的非关系型数据库</p>
<ul>
<li>数据库-》数据库</li>
<li>数据表-》集合（数组）</li>
<li>表记录-》（文档对象）</li>
</ul>
</li>
<li><p>MongoDB不需要设计表结构</p>
</li>
</ul>
<h2 id="安装-1"><a href="#安装-1" class="headerlink" title="安装"></a>安装</h2><ul>
<li>下载</li>
<li>安装</li>
<li>配置环境变量</li>
<li>最后输入<code>mongod --version</code>检测是否安装成功</li>
</ul>
<p>启动和关闭数据库</p>
<p>启动：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mongod</span><br></pre></td></tr></table></figure>

<p>停止：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">在开启服务的控制台，直接Ctrl+c即可停止</span><br><span class="line">或直接关闭开启服务的控制台</span><br></pre></td></tr></table></figure>

<h2 id="连接和退出数据库"><a href="#连接和退出数据库" class="headerlink" title="连接和退出数据库"></a>连接和退出数据库</h2><p>连接:</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">该命令默认连接本机的MongoDB服务</span></span><br><span class="line">mongo</span><br></pre></td></tr></table></figure>

<p>退出：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">在连接状态输入 <span class="built_in">exit</span> 退出连接</span></span><br><span class="line">exit</span><br></pre></td></tr></table></figure>

<h2 id="基本命令"><a href="#基本命令" class="headerlink" title="基本命令"></a>基本命令</h2><ul>
<li><p><code>show dbs</code></p>
<ul>
<li>查看显示所有数据库</li>
</ul>
</li>
<li><p><code>db</code></p>
<ul>
<li>查看当前操作的数据库</li>
</ul>
</li>
<li><p><code>use 数据库名称</code></p>
<ul>
<li>切换到指定的数据（如果没有会新建）</li>
</ul>
</li>
</ul>
<h2 id="hello-word"><a href="#hello-word" class="headerlink" title="hello word"></a>hello word</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> mongoose = <span class="built_in">require</span>(<span class="string">&#x27;mongoose&#x27;</span>);</span><br><span class="line"><span class="comment">//连接MongoDB数据库</span></span><br><span class="line">mongoose.connect(<span class="string">&#x27;mongodb://localhost:27017/test&#x27;</span>, &#123;<span class="attr">useNewUrlParser</span>: <span class="literal">true</span>&#125;);</span><br><span class="line"><span class="comment">//创建一个模型</span></span><br><span class="line"><span class="comment">//就是在设计数据库</span></span><br><span class="line"><span class="comment">//mongoose这个包可以让你的设计编写过程变得非常简单</span></span><br><span class="line"><span class="keyword">const</span> Cat = mongoose.model(<span class="string">&#x27;Cat&#x27;</span>, &#123; <span class="attr">name</span>: <span class="built_in">String</span> &#125;);</span><br><span class="line"><span class="comment">//实例化一个Cat</span></span><br><span class="line"><span class="keyword">const</span> kitty = <span class="keyword">new</span> Cat(&#123; <span class="attr">name</span>: <span class="string">&#x27;Zildjian&#x27;</span> &#125;);</span><br><span class="line"><span class="comment">//持久化保存kitty实例</span></span><br><span class="line">kitty.save().then(<span class="function">() =&gt;</span> <span class="built_in">console</span>.log(<span class="string">&#x27;meow&#x27;</span>));</span><br></pre></td></tr></table></figure>



<h2 id="官方指南"><a href="#官方指南" class="headerlink" title="官方指南"></a>官方指南</h2><p>官方文档：</p>
<p><a target="_blank" rel="noopener" href="https://mongoosejs.com/docs/guide.html">https://mongoosejs.com/docs/guide.html</a></p>
<p><strong>设计Scheme 发布Model</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> mongoose = <span class="built_in">require</span>(<span class="string">&#x27;mongoose&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> Schema = mongoose.Schema;</span><br><span class="line"></span><br><span class="line"><span class="comment">//1、连接MongoDB数据库</span></span><br><span class="line"><span class="comment">//指定连接的数据库不需要存在，当你插入第一条数据之后就会被自动创建出来</span></span><br><span class="line">mongoose.connect(<span class="string">&#x27;mongodb://localhost:27017/test&#x27;</span>);</span><br><span class="line"><span class="comment">//2、设计文档结构</span></span><br><span class="line"><span class="comment">//字段名称就是表结构中的属性名称</span></span><br><span class="line"><span class="comment">//值</span></span><br><span class="line"><span class="comment">//约束的目的是为了保证数据的完整性</span></span><br><span class="line"><span class="keyword">var</span> userSchema = <span class="keyword">new</span> Schema(&#123;</span><br><span class="line">    <span class="attr">username</span>:&#123;</span><br><span class="line">        <span class="attr">type</span>:<span class="built_in">String</span>,</span><br><span class="line">        <span class="attr">required</span>:<span class="literal">true</span><span class="comment">//必须有</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">password</span>:&#123;</span><br><span class="line">        <span class="attr">type</span>:<span class="built_in">String</span>,</span><br><span class="line">        <span class="attr">required</span>:<span class="literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">email</span>:&#123;</span><br><span class="line">        <span class="attr">type</span>:<span class="built_in">String</span>,</span><br><span class="line">        <span class="attr">required</span>:<span class="literal">true</span>        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//3、将文档结构发布为模型</span></span><br><span class="line"><span class="comment">// mongoose.model方法就是用来将一个架构发布为model</span></span><br><span class="line"><span class="comment">//第一个参数：传入一个大写名词单数字符串用来表示你的数据库名称</span></span><br><span class="line"><span class="comment">//      mongoose会自动将大写名词的字符串生成小写复数的集合名称</span></span><br><span class="line"><span class="comment">//      例如这里的User最终会变成users集合名称</span></span><br><span class="line"><span class="comment">//第二个参数：架构Schema</span></span><br><span class="line"><span class="comment">//返回值：模型构造函数</span></span><br><span class="line"><span class="keyword">var</span> User = mongoose.model(<span class="string">&#x27;User&#x27;</span>, userSchema)</span><br><span class="line"></span><br><span class="line"><span class="comment">//4、有了模型构造函数之后，就可以使用这个构造函数对users集合中的数据进行增删改查</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>增加数据</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> admin = <span class="keyword">new</span> User(&#123;</span><br><span class="line">    <span class="attr">username</span>:<span class="string">&#x27;admin&#x27;</span>,</span><br><span class="line">    <span class="attr">password</span>:<span class="string">&#x27;123456&#x27;</span>,</span><br><span class="line">    <span class="attr">email</span>:<span class="string">&#x27;admin@admin.com&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">admin.save(<span class="function"><span class="keyword">function</span>(<span class="params">err,ret</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(err)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;保存失败&#x27;</span>)</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;保存成功&#x27;</span>)</span><br><span class="line">        <span class="built_in">console</span>.log(ret)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><strong>查询所有</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">User.find(<span class="function"><span class="keyword">function</span>(<span class="params">err,ret</span>)</span>&#123;</span><br><span class="line">     <span class="keyword">if</span>(err)&#123;</span><br><span class="line">         <span class="built_in">console</span>.log(<span class="string">&#x27;查询失败&#x27;</span>)</span><br><span class="line">     &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">         <span class="built_in">console</span>.log(ret)</span><br><span class="line">     &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><strong>按条件查询所有</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">User.find(&#123;</span><br><span class="line">    <span class="attr">username</span>:<span class="string">&#x27;zs&#x27;</span></span><br><span class="line">&#125;,</span><br><span class="line">    <span class="function"><span class="keyword">function</span>(<span class="params">err,ret</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(err)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;查询失败&#x27;</span>)</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(ret)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><strong>按条件查询单个</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">User.findOne(&#123;</span><br><span class="line">    <span class="attr">username</span>:<span class="string">&#x27;zs&#x27;</span>,</span><br><span class="line">    <span class="attr">password</span>:<span class="string">&#x27;123456&#x27;</span></span><br><span class="line">&#125;,</span><br><span class="line">    <span class="function"><span class="keyword">function</span>(<span class="params">err,ret</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(err)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;查询失败&#x27;</span>)</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(ret)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p><strong>删除数据</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">User.remove(&#123;</span><br><span class="line">    <span class="attr">username</span>:<span class="string">&#x27;zs&#x27;</span></span><br><span class="line">&#125;,<span class="function"><span class="keyword">function</span>(<span class="params">err,ret</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(err)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;删除失败&#x27;</span>)</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;删除成功&#x27;</span>)  </span><br><span class="line">        <span class="built_in">console</span>.log(ret)   </span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<p><strong>更新数据</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">User.findByIdAndUpdate(<span class="string">&#x27;5e3d557c3fc44049e4afcfef&#x27;</span>,&#123;</span><br><span class="line">    <span class="attr">password</span>:<span class="string">&#x27;123&#x27;</span></span><br><span class="line">&#125;,<span class="function"><span class="keyword">function</span>(<span class="params">err,ret</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(err)&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;更新失败&#x27;</span>)</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&#x27;更新成功&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<h1 id="使用Node操作MySQL数据库"><a href="#使用Node操作MySQL数据库" class="headerlink" title="使用Node操作MySQL数据库"></a>使用Node操作MySQL数据库</h1><p>安装：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install mysql</span><br></pre></td></tr></table></figure>

<p>使用：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> mysql      = <span class="built_in">require</span>(<span class="string">&#x27;mysql&#x27;</span>);</span><br><span class="line"><span class="comment">//1、创建连接</span></span><br><span class="line"><span class="keyword">var</span> connection = mysql.createConnection(&#123;</span><br><span class="line">  <span class="attr">host</span>     : <span class="string">&#x27;localhost&#x27;</span>,</span><br><span class="line">  <span class="attr">user</span>     : <span class="string">&#x27;me&#x27;</span>,</span><br><span class="line">  <span class="attr">password</span> : <span class="string">&#x27;secret&#x27;</span>,</span><br><span class="line">  <span class="attr">database</span> : <span class="string">&#x27;my_db&#x27;</span></span><br><span class="line">&#125;);</span><br><span class="line"> <span class="comment">//2、连接数据库</span></span><br><span class="line">connection.connect();</span><br><span class="line"> <span class="comment">//3、执行数据操作</span></span><br><span class="line">connection.query(<span class="string">&#x27;SELECT 1 + 1 AS solution&#x27;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">error, results, fields</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (error) <span class="keyword">throw</span> error;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;The solution is: &#x27;</span>, results[<span class="number">0</span>].solution);</span><br><span class="line">&#125;);</span><br><span class="line"> <span class="comment">//4、关闭连接</span></span><br><span class="line">connection.end();</span><br></pre></td></tr></table></figure>


        </div>
        
            <div class="kratos-copyright text-center clearfix">
                <h5>本作品采用 <a rel="license nofollow" target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/">知识共享署名-相同方式共享 4.0 国际许可协议</a> 进行许可</h5>
            </div>
        
        <footer class="kratos-entry-footer clearfix">
            
                <div class="post-like-donate text-center clearfix" id="post-like-donate">
                
                
                    <a class="share" href="javascript:;"><i class="fa fa-share-alt"></i> 分享</a>
                    <div class="share-wrap" style="display: none;">
    <div class="share-group">
        <a href="javascript:;" class="share-plain qq" onclick="share('qq');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-qq"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain qzone" onclick="share('qzone');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-star"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain weixin pop style-plain" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-weixin"></i>
            </div>
            <div class="share-int">
                <div class="qrcode" id="wechat-qr"></div>
                <p>打开微信“扫一扫”，打开网页后点击屏幕右上角分享按钮</p>
            </div>
        </a>
        <a href="javascript:;" class="share-plain weibo" onclick="share('weibo');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-weibo"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain facebook style-plain" onclick="share('facebook');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-facebook"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain twitter style-plain" onclick="share('twitter');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-twitter"></i>
            </div>
        </a>
    </div>
    <script type="text/javascript">
        $(()=>{
            new QRCode("wechat-qr", {
                text: "http://example.com/2021/09/20/nodejs/",
                width: 150,
                height: 150,
                correctLevel : QRCode.CorrectLevel.H
            });
        });
        function share(dest) {
            const qqBase        = "https://connect.qq.com/widget/shareqq/index.html?";
            const weiboBase     = "https://service.weibo.com/share/share.php?";
            const qzoneBase     = "https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?";
            const facebookBase  = "https://www.facebook.com/sharer/sharer.php?";
            const twitterBase   = "https://twitter.com/intent/tweet?";
            const hostUrl       = "http://example.com/2021/09/20/nodejs/";
            const title         = "「Node.js」";
            const excerpt       = `nodejs
nodejs不是语言不是框架是js的一个运行时环境可以解析执行js代码
运行的时候指的是指令加载到内存并由CPU执行的时候

浏览器中的jsEcmaScript(基本语法、if、var、function、Object、A...`;
            let _URL;
            switch (dest) {
                case "qq"       : _URL = qqBase+"url="+hostUrl+"&title="+title+"&desc=&summary="+excerpt+"&site=cxpy";     break;
                case "weibo"    : _URL = weiboBase+"url="+hostUrl+"&title="+title+excerpt;                                 break;
                case "qzone"    : _URL = qzoneBase+"url="+hostUrl+"&title="+title+"&desc=&summary="+excerpt+"&site=cxpy";  break;
                case "facebook" : _URL = facebookBase+"u="+hostUrl;                                                        break;
                case "twitter"  : _URL = twitterBase+"text="+title+excerpt+"&url="+hostUrl;                                break;
            }
            window.open(_URL);
        };
    </script>
</div>
                
                </div>
            
            <div class="footer-tag clearfix">
                <div class="pull-left">
                <i class="fa fa-tags"></i>
                    <a class="tag-none-link" href="/tags/node/" rel="tag">node</a>
                </div>
                <div class="pull-date">
                <span>最后编辑：2021-09-21</span>
                </div>
            </div>
        </footer>
    </div>
    
        <nav class="navigation post-navigation clearfix" role="navigation">
            
            <div class="nav-previous clearfix">
                <a title=" Uni app 页面&amp;组件生命周期" href="/2021/09/20/Uni app 页面&组件生命周期/">&lt; 上一篇</a>
            </div>
            
            
            <div class="nav-next clearfix">
                <a title=" HTTP响应状态码参考" href="/2021/09/20/HTTP响应状态码参考/">下一篇 &gt;</a>
            </div>
            
        </nav>
    
    
</article>

        

            </section>

        

                
            

<section id="kratos-widget-area" class="col-md-4 hidden-xs hidden-sm">
    <!-- 文章和页面根据splitter来分割，没有的话就从头开始设置为sticky -->
    
    
                <aside id="krw-about" class="widget widget-kratos-about clearfix">
    <div class="photo-background"></div>
    <div class="photo-wrapper clearfix">
        <div class="photo-wrapper-tip text-center">
            <img class="about-photo" src="/images/avatar.webp" />
        </div>
    </div>
    <div class="textwidget">
        <p class="text-center"></p>
    </div>
</aside>
            
                    <div class="sticky-area">
                
                    <aside id="krw-toc" class="widget widget-kratos-toc clearfix">
    <div class="photo-background"></div>
    <h4 class="widget-title no-after">
        <i class="fa fa-compass"></i>
        文章目录
        <span class="toc-progress-bar"></span>
    </h4>
    <div class="textwidget">
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#nodejs"><span class="toc-text">nodejs</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%AD%E7%9A%84js"><span class="toc-text">浏览器中的js</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#node-js%E4%B8%AD%E7%9A%84js"><span class="toc-text">node.js中的js</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A0%B8%E5%BF%83%E6%A8%A1%E5%9D%97"><span class="toc-text">核心模块</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#fs%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C%E6%A8%A1%E5%9D%97"><span class="toc-text">fs文件操作模块</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#http%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1%E6%9E%84%E5%BB%BA%E6%A8%A1%E5%9D%97"><span class="toc-text">http网络服务构建模块</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3%E6%96%87%E5%AD%97%E4%B9%B1%E7%A0%81%E9%97%AE%E9%A2%98"><span class="toc-text">解决文字乱码问题</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#os%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E4%BF%A1%E6%81%AF%E6%A8%A1%E5%9D%97"><span class="toc-text">os操作系统信息模块</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#path%E8%B7%AF%E5%BE%84%E5%A4%84%E7%90%86%E6%A8%A1%E5%9D%97"><span class="toc-text">path路径处理模块</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#url%EF%BC%9A%E7%BB%9F%E4%B8%80%E8%B5%84%E6%BA%90%E5%AE%9A%E4%BD%8D%E7%AC%A6"><span class="toc-text">url：统一资源定位符</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E8%87%AA%E5%AE%9A%E4%B9%89%E6%A8%A1%E5%9D%97"><span class="toc-text">用户自定义模块</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%AD%E6%B3%95"><span class="toc-text">语法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A1%88%E4%BE%8B%E6%A8%A1%E6%9D%BF"><span class="toc-text">案例模板</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AF%BC%E5%87%BAexports"><span class="toc-text">导出exports</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#exports%E5%8E%9F%E7%90%86%E8%A7%A3%E6%9E%90"><span class="toc-text">exports原理解析</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#require%E6%96%B9%E6%B3%95%E5%8A%A0%E8%BD%BD%E8%A7%84%E5%88%99"><span class="toc-text">require方法加载规则</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#IP%E5%9C%B0%E5%9D%80%E5%92%8C%E7%AB%AF%E5%8F%A3%E5%8F%B7%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="toc-text">IP地址和端口号的概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E7%AB%AF%E6%B8%B2%E6%9F%93%E5%92%8C%E5%AE%A2%E6%88%B7%E7%AB%AF%E6%B8%B2%E6%9F%93%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-text">服务端渲染和客户端渲染的区别</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Node-js-REPL-Read-Eval-Print-Loop-%E4%BA%A4%E4%BA%92%E5%BC%8F%E8%A7%A3%E9%87%8A%E5%99%A8"><span class="toc-text">Node.js REPL(Read Eval Print Loop:交互式解释器)</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%A1%88%E4%BE%8B%E6%A8%A1%E6%9D%BF-1"><span class="toc-text">案例模板</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#npm%EF%BC%88%E5%AE%89%E8%A3%85%E7%AC%AC%E4%B8%89%E6%96%B9%E8%BD%AF%E4%BB%B6%EF%BC%89"><span class="toc-text">npm（安装第三方软件）</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#npm%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7"><span class="toc-text">npm命令行工具</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="toc-text">常用命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A7%A3%E5%86%B3npm%E8%A2%AB%E5%A2%99%E9%97%AE%E9%A2%98"><span class="toc-text">解决npm被墙问题</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#package-json"><span class="toc-text">package.json</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#nrm"><span class="toc-text">nrm</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#nodemon%E8%87%AA%E5%8A%A8%E9%87%8D%E5%90%AF%E5%B7%A5%E5%85%B7"><span class="toc-text">nodemon自动重启工具</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Express"><span class="toc-text">Express</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85"><span class="toc-text">安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#hello-world"><span class="toc-text">hello world</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E5%AE%8C%E6%88%90%E4%BB%A3%E7%A0%81%E8%87%AA%E5%8A%A8%E9%87%8D%E5%90%AF"><span class="toc-text">修改完成代码自动重启</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E8%B7%AF%E7%94%B1"><span class="toc-text">基本路由</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9D%99%E6%80%81%E6%9C%8D%E5%8A%A1"><span class="toc-text">静态服务</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9C%A8Express%E4%B8%AD%E9%85%8D%E7%BD%AE%E4%BD%BF%E7%94%A8art-template%E6%A8%A1%E6%9D%BF%E5%BC%95%E6%93%8E"><span class="toc-text">在Express中配置使用art-template模板引擎</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9C%A8Express%E8%8E%B7%E5%8F%96%E8%A1%A8%E5%8D%95get%E8%AF%B7%E6%B1%82%E6%95%B0%E6%8D%AE"><span class="toc-text">在Express获取表单get请求数据</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9C%A8Express%E8%8E%B7%E5%8F%96%E8%A1%A8%E5%8D%95post%E8%AF%B7%E6%B1%82%E6%95%B0%E6%8D%AE"><span class="toc-text">在Express获取表单post请求数据</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#MongoDB"><span class="toc-text">MongoDB</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#MongoDB%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-text">MongoDB数据库的基本概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93%E5%92%8C%E9%9D%9E%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">关系型数据库和非关系型数据库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-1"><span class="toc-text">安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%9E%E6%8E%A5%E5%92%8C%E9%80%80%E5%87%BA%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">连接和退出数据库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4"><span class="toc-text">基本命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#hello-word"><span class="toc-text">hello word</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%98%E6%96%B9%E6%8C%87%E5%8D%97"><span class="toc-text">官方指南</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8Node%E6%93%8D%E4%BD%9CMySQL%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-text">使用Node操作MySQL数据库</span></a></li></ol>
    </div>
</aside>
                
                
  <aside id="krw-categories" class="widget widget-kratos-categories clearfix">
    <h4 class="widget-title"><i class="fa fa-folder"></i>分类目录</h4>
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Egg/">Egg</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/HTTP/">HTTP</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Hexo/">Hexo</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Koa%E6%A1%86%E6%9E%B6/">Koa框架</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Node/">Node</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/css%E9%9A%8F%E7%AC%94/">css随笔</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/flex%E5%BC%B9%E6%80%A7%E5%B8%83%E5%B1%80/">flex弹性布局</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/vue%E9%9A%8F%E7%AC%94/">vue随笔</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%85%B6%E4%BB%96/">其他</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/">微信小程序</a><span class="category-list-count">1</span></li></ul>
  </aside>


            
                
  <aside id="krw-tags" class="widget widget-kratos-tags clearfix">
    <h4 class="widget-title"><i class="fa fa-tags"></i>标签聚合</h4>
      <div class="tag-clouds">
        <a href="/tags/HTTP/" style="font-size: 0.6em;">HTTP</a> <a href="/tags/css/" style="font-size: 0.6em;">css</a> <a href="/tags/egg/" style="font-size: 0.6em;">egg</a> <a href="/tags/flex%E5%BC%B9%E6%80%A7%E5%B8%83%E5%B1%80/" style="font-size: 0.6em;">flex弹性布局</a> <a href="/tags/hexo/" style="font-size: 0.6em;">hexo</a> <a href="/tags/koa/" style="font-size: 0.6em;">koa</a> <a href="/tags/node/" style="font-size: 0.6em;">node</a> <a href="/tags/npm/" style="font-size: 0.6em;">npm</a> <a href="/tags/vue/" style="font-size: 0.8em;">vue</a> <a href="/tags/wamp/" style="font-size: 0.6em;">wamp</a> <a href="/tags/%E5%89%8D%E7%AB%AF/" style="font-size: 0.6em;">前端</a> <a href="/tags/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/" style="font-size: 0.6em;">微信小程序</a>
      </div>
  </aside>

            
                
  <aside id="krw-posts" class="widget widget-kratos-posts">
  <h4 class="widget-title"><i class="fa fa-file"></i>最新文章</h4>
  <div class="tab-content">
      <ul class="list-group">
        
        
          
          
            <a class="list-group-item" href="/2021/09/20/egg.js/"><i class="fa  fa-book"></i> egg</a>
            
          
        
          
          
            <a class="list-group-item" href="/2021/09/20/flex%E5%BC%B9%E6%80%A7%E5%B8%83%E5%B1%80/"><i class="fa  fa-book"></i> flex弹性布局</a>
            
          
        
          
          
            <a class="list-group-item" href="/2021/09/20/HTTP%E5%93%8D%E5%BA%94%E7%8A%B6%E6%80%81%E7%A0%81%E5%8F%82%E8%80%83/"><i class="fa  fa-book"></i> HTTP响应状态码参考</a>
            
          
        
          
          
            <a class="list-group-item" href="/2021/09/20/nodejs/"><i class="fa  fa-book"></i> Node.js</a>
            
          
        
          
          
            <a class="list-group-item" href="/2021/09/20/Uni%20app%20%E9%A1%B5%E9%9D%A2&%E7%BB%84%E4%BB%B6%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F/"><i class="fa  fa-book"></i> Uni app 页面&组件生命周期</a>
            
          
        
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
      </ul>
  </div>
  </aside>

            
    </div>
</section>
        
        </div>
    </div>
</div>
<footer>
    <div id="footer"  class="ap-lrc"  >
        <div class="kr-tool text-center">
            <div class="tool">
                
                    <div class="box search-box">
                        <a href="/search/">
                            <span class="fa fa-search"></span>
                        </a>
                    </div>
                
                
                    <div class="box theme-box" id="darkmode-switch">
                        <span class="fa fa-adjust"></span>
                    </div>
                
                
            </div>
            <div class="box gotop-box">
                <span class="fa fa-chevron-up"></span>
            </div>
        </div>
        <div class="container">
            <div class="row">
                <div class="col-md-6 col-md-offset-3 footer-list text-center">
                    <ul class="kratos-social-icons">
                        
                        
                        <li><a target="_blank" rel="nofollow" href="https://t.me/CandyUnion"><i class="fa fa-telegram"></i></a></li>
                        
                        
                        
                        <li><a target="_blank" rel="me" href="https://nya.one/@Candinya"><i class="fa fa fa-share-alt-square"></i></a></li>
                        <li><a target="_blank" rel="nofollow" href="https://github.com/Candinya"><i class="fa fa-github"></i></a></li>
                        
                    </ul>
                    <ul class="kratos-copyright">
                        <div>
                            <li>&copy; 2021 琼喵酱·部落 版权所有.</li>
                            <li>本站已运行<span id="span_dt">Loading...</span></li>
                        </div>
                        <div>
                            <li>Theme <a href="https://github.com/Candinya/Kratos-Rebirth" target="_blank">Kratos:Rebirth</a></li>
                            <li>Site built with&nbsp;<i class="fa fa-heart throb" style="color:#d43f57"></i>&nbsp;by zengqm.</li>
                        </div>
                        <div>
                            <li>Powered by <a href="https://hexo.io" target="_blank" rel="nofollow">Hexo</a></li>
                            <li>Hosted on <a href="https://github.io" target="_blank">Github Pages</a></li>
                        </div>
                        <div>
                            
                            
                        </div>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</footer>
</div>
</div>

        <script defer src="https://cdn.jsdelivr.net/npm/bootstrap@3.3.4/dist/js/bootstrap.min.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.js"></script>
<script>
    if (!window.kr) {
        window.kr = {};
    }
    window.kr.notMobile = (!(navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)));
    window.kr.siteRoot = "/";
</script>


    <script async src="/js/candy.min.js"></script>



    <script defer src="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js"></script>
    
    <script defer src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>
    <meting-js
        server="netease"
        type="playlist"
        id="3204190542"
        order="random"
        fixed="true"
    >
    </meting-js>



    <script defer src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>

<script defer src="https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js"></script>
<script defer src="/js/kratosr.min.js"></script>
<script defer src="/js/pjax.min.js"></script>


    <script defer src="/js/kr-dark.min.js"></script>



<!-- Extra support for third-party plguins  -->


    </body>
</html>